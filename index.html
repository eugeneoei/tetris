<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tetris Reborned</title>
    <link rel="stylesheet" href="style.css">

  </head>
  <body>
    <canvas id="canvas" width="100" height="200">
    <script type="text/javascript" src="tetris.js"></script>
  </body>
</html>


<!-- var canvas = document.getElementById("canvas");
var draw = canvas.getContext("2d");
var width = 100;
var height = 200;
var countDown = setInterval(drop, 1000);
var dx = 10;
var dy = 10;


//square block
var o = [
  {x: 10, y: 10, width: 10, height: 10, color: "red"},
  {x: 20, y: 10, width: 10, height: 10, color: "blue"},
  {x: 10, y: 20, width: 10, height: 10, color: "yellow"},
  {x: 20, y: 20, width: 10, height: 10, color: "green"}
];

var oZero = o[0];
var oOne = o[1];
var oTwo = o[2];
var oThree = o[3];

function oCurrent() {
  draw.fillStyle = oZero.color;
  draw.fillRect(oZero.x, oZero.y, oZero.width, oZero.height)

  draw.fillStyle = oOne.color;
  draw.fillRect(oOne.x, oOne.y, oOne.width, oOne.height)

  draw.fillStyle = oTwo.color;
  draw.fillRect(oTwo.x, oTwo.y, oTwo.width, oTwo.height)

  draw.fillStyle = oThree.color;
  draw.fillRect(oThree.x, oThree.y, oThree.width, oThree.height)

  addKeyDown();
};

function oNew() {
  draw.fillStyle = oZero.color;
  draw.fillRect(oZero.x, oZero.y, oZero.width, oZero.height)

  draw.fillStyle = oOne.color;
  draw.fillRect(oOne.x, oOne.y, oOne.width, oOne.height)

  draw.fillStyle = oTwo.color;
  draw.fillRect(oTwo.x, oTwo.y, oTwo.width, oTwo.height)

  draw.fillStyle = oThree.color;
  draw.fillRect(oThree.x, oThree.y, oThree.width, oThree.height)

  addKeyDown();

};


function addKeyDown() {
  document.addEventListener("keydown", move);
};

function removeKeyDown() {
  document.removeEventListener("keydown", move);
}

function move(event) {
  // right arrow
  // function recognise key code and draw new o
  if (event.keyCode === 39) {
    // clears canvas then redraw new image
    draw.clearRect(0, 0, width, height);
    oZero.x += dx;
    oOne.x += dx;
    oTwo.x += dx;
    oThree.x += dx;
    console.log("right arrow pressed");
    console.log(oZero);
  }
  // left arrow
  else if (event.keyCode === 37) {
    draw.clearRect(0, 0, width, height);
    oZero.x -= dx;
    oOne.x -= dx;
    oTwo.x -= dx;
    oThree.x -= dx;
    console.log("left arrow pressed");
    console.log(oZero);
  }
  // down arrow
  else if (event.keyCode === 40) {
    draw.clearRect(0, 0, width, height);
    oZero.y += dy;
    oOne.y += dy;
    oTwo.y += dy;
    oThree.y += dy;
    console.log("down arrow pressed");
    console.log(oZero);
  }
  // redraw image once canvas page is cleared
  oCurrent();
};

function drop() {
  draw.clearRect(0, 0, width, height);
  oZero.y += dy;
  oOne.y += dy;
  oTwo.y += dy;
  oThree.y += dy;
  console.log("block drop");
  oCurrent();
  freezeBottom();
  console.log(o);

}

function freezeBottom() {
  if (oTwo.y === 190 ) {
    clearInterval(countDown);
    console.log("block stopped")
    draw.clearRect(0, 0, width, height);
    oCurrent();
    removeKeyDown();
    // reset();
    // console.log(o);
    // oNew();
    // block stops at bottom but when moving fast, it still goes down why?
  }
};

function reset() {
  oZero.x = 10;
  oZero.y = 10;
  oOne.x = 20;
  oOne.y = 10;
  oTwo.x = 10;
  oTwo.y = 20;
  oThree.x = 20;
  oThree.y = 20;
  oNew();
  countDown = setInterval(drop, 1000);

};


// simulate first shape
// on start, to call oDraw function
// countDown;
oCurrent(); -->
